---
layout:     post
title:    渗透测试学习-简介-01
subtitle:   渗透测试简介
date:       2018-07-14
author:     hmoytx
header-img: img/bg_02.jpg
catalog: true
tags:
    - 渗透测试
    - 大黑阔
---

# 简介
渗透测试并没有一个标准的定义，通用说法是：渗透测试是通过模拟恶意黑客的攻击方法，来评估计算机网络系统安全的一种评估方法。这个过程包括对系统的任何弱点、技术缺陷或漏洞的主动分析，这个分析是从一个攻击者可能存在的位置来进行的，并且从这个位置有条件主动利用安全漏洞。

## 基本流程介绍
我把渗透测试分成大的五步：  
### 1.前期信息收集
主要内容是对网站的基本信息：  
    1.脚本类型，中间件，指纹信息  
    2.目录信息  
    3.子域名收集  
    4.旁站与C段  
    5.域名注册信息  
    6.服务器有关：系统版本，端口开放情况  

### 2.漏洞发现
常见的一些漏洞：  
1.SQL注入  
2.文件上传  
3.命令执行  
4.代码执行（和3有时候可以认为一样，通过代码调用可以命令执行）  
5.XSS漏洞  
6.CSRF漏洞  
7.信息泄漏（源码文件，敏感文件，备份文件，.git，.svn等）  
8.第三方程序漏洞（中间件漏洞等）  
9.逻辑漏洞（越权，支付漏洞等）  
10.点击劫持  
11.httponly（10，11这两个报告里没东西写了可以拿来凑数）  
12.人为造成的漏洞（弱口令）  
其他还有SSRF  XXE 等漏洞不详细举例  
注：当知道程序是比较有名的CMS时可以去收集公开的exp  

### 3.权限提升
有些人喜欢把第三步写成是漏洞利用或者是getshell，个人觉得整个漏洞利用的过程以及getshell的过程都是在为了一个目标：获得权限，为下一步提权做准备。因此把第三步归结为权限提升，主要内容如下：  
    1.web权限：漏洞利用，最终目的是getshell  
    2.系统权限：最终目的是administrator（system）权限，root权限  
        提权的操作（大马提权为例）：  
            1.能执行系统命令，查看版本信息，查找未打补丁对应的exp进行提权。  
            2.不能执行命令，查看组件是否支持，查看是否删除cmd，通过上传解决  
            3.其他第三方组件提权（mof，udf）  
### 4.内网漫游
基本就是重复前面的步骤（主要是扫描内网服务器和步骤3），或者监听网络窃听密码。

### 5.权限维持
利用远控  shift后门  lpk msf后门等维持权限。

# 总结概括
上述的步骤基本概括了一次完整的渗透测试，对于一些特殊情况下去内部服务做渗透测试可以在信息收集中略去一些信息收集的步骤。